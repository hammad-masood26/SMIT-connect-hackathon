"use strict";exports.id=112,exports.ids=[112],exports.modules={5112:(t,e,a)=>{a.d(e,{$U:()=>getAllAppointments,LW:()=>updateAppointmentStatus,Pc:()=>createAppointment,R0:()=>updateHelpRequestStatus,Wj:()=>getAllHelpRequests,Y9:()=>getAdminStats,dK:()=>createHelpRequest});var s=a(1522),r=a(1776);let createAppointment=async t=>{try{let e=await (0,s.ET)((0,s.hJ)(r.db,"appointments"),{...t,createdAt:s.EK.now(),updatedAt:s.EK.now()});return e.id}catch(t){throw Error(t.message)}},getAllAppointments=async()=>{try{let t=(0,s.IO)((0,s.hJ)(r.db,"appointments"),(0,s.Xo)("createdAt","desc")),e=await (0,s.PL)(t);return e.docs.map(t=>({id:t.id,...t.data(),createdAt:t.data().createdAt.toDate(),updatedAt:t.data().updatedAt.toDate()}))}catch(t){throw Error(t.message)}},updateAppointmentStatus=async(t,e)=>{try{let a=(0,s.JU)(r.db,"appointments",t);await (0,s.r7)(a,{status:e,updatedAt:s.EK.now()})}catch(t){throw Error(t.message)}},createHelpRequest=async t=>{try{let e=await (0,s.ET)((0,s.hJ)(r.db,"helpRequests"),{...t,createdAt:s.EK.now(),updatedAt:s.EK.now()});return e.id}catch(t){throw Error(t.message)}},getAllHelpRequests=async()=>{try{let t=(0,s.IO)((0,s.hJ)(r.db,"helpRequests"),(0,s.Xo)("createdAt","desc")),e=await (0,s.PL)(t);return e.docs.map(t=>({id:t.id,...t.data(),createdAt:t.data().createdAt.toDate(),updatedAt:t.data().updatedAt.toDate()}))}catch(t){throw Error(t.message)}},updateHelpRequestStatus=async(t,e)=>{try{let a=(0,s.JU)(r.db,"helpRequests",t);await (0,s.r7)(a,{status:e,updatedAt:s.EK.now()})}catch(t){throw Error(t.message)}},getAdminStats=async()=>{try{let t=await getAllAppointments(),e=await getAllHelpRequests();return{totalAppointments:t.length,totalHelpRequests:e.length,pendingAppointments:t.filter(t=>"pending"===t.status).length,approvedAppointments:t.filter(t=>"approved"===t.status).length,rejectedAppointments:t.filter(t=>"rejected"===t.status).length,pendingHelpRequests:e.filter(t=>"pending"===t.status).length,approvedHelpRequests:e.filter(t=>"approved"===t.status).length,rejectedHelpRequests:e.filter(t=>"rejected"===t.status).length}}catch(t){throw Error(t.message)}}}};