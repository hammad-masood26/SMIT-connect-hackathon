(()=>{var e={};e.id=225,e.ids=[225],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},7282:e=>{"use strict";e.exports=require("process")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},7353:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var a=t(7096),r=t(6132),l=t(7284),n=t.n(l),i=t(2564),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let c=["",{children:["user",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6242)),"H:\\Hammad\\SMIT\\Projects\\Hackathon\\app\\user\\dashboard\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,5345)),"H:\\Hammad\\SMIT\\Projects\\Hackathon\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],d=["H:\\Hammad\\SMIT\\Projects\\Hackathon\\app\\user\\dashboard\\page.tsx"],u="/user/dashboard/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/user/dashboard/page",pathname:"/user/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8625:(e,s,t)=>{Promise.resolve().then(t.bind(t,8306))},8306:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>UserDashboard});var a=t(784),r=t(9885),l=t(7114),n=t(3680),i=t(92),o=t(517),c=t(7371),d=t(9546),u=t(345),x=t(5112);function UserDashboard(){let[e,s]=(0,r.useState)(null),[t,p]=(0,r.useState)(!0),[m,h]=(0,r.useState)([]),[g,b]=(0,r.useState)([]),f=(0,l.useRouter)();(0,r.useEffect)(()=>{let e=localStorage.getItem("user");if(!e){f.push("/user/login");return}let t=JSON.parse(e);s(t);let loadFromLocalStorage=()=>{let e=JSON.parse(localStorage.getItem("helpRequests")||"{}"),s=e[t.id]||[];b(s);let a=JSON.parse(localStorage.getItem("appointments")||"{}"),r=a[t.id]||[];h(r)};loadFromLocalStorage(),Promise.all([(0,x.wD)(t.id).then(e=>{h(e);let s=JSON.parse(localStorage.getItem("appointments")||"{}");s[t.id]=e,localStorage.setItem("appointments",JSON.stringify(s))}).catch(e=>{console.error("Failed to load appointments:",e),u.default.error("Failed to load appointments")}),(0,x.OZ)(t.id).then(e=>{b(e);let s=JSON.parse(localStorage.getItem("helpRequests")||"{}");s[t.id]=e,localStorage.setItem("helpRequests",JSON.stringify(s))}).catch(e=>{console.error("Failed to load help requests:",e),u.default.error("Failed to load help requests")})]).finally(()=>{p(!1)});let handleStorageChange=()=>{loadFromLocalStorage()};return window.addEventListener("storage",handleStorageChange),window.addEventListener("focus",handleStorageChange),()=>{window.removeEventListener("storage",handleStorageChange),window.removeEventListener("focus",handleStorageChange)}},[f]);let handleNavigation=e=>{f.push(e)};if(t)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-saylani-green"})});if(!e)return null;let j=[...m,...g].map(e=>({...e,createdAt:new Date(e.createdAt?e.createdAt:0)})).sort((e,s)=>s.createdAt.getTime()-e.createdAt.getTime()).slice(0,4),y=m.length+g.length,N=[...m,...g].filter(e=>"approved"===e.status).length,v=[...m,...g].filter(e=>"pending"===e.status).length,w=[...m,...g].filter(e=>"rejected"===e.status).length;return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-saylani-green/10 rounded-full flex items-center justify-center",children:a.jsx(n.Z,{className:"h-6 w-6 text-saylani-green"})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Dashboard"}),(0,a.jsxs)("p",{className:"text-gray-600",children:["Welcome back, ",e.name]})]})]}),(0,a.jsxs)("button",{onClick:()=>{localStorage.removeItem("user"),u.default.success("Logged out successfully"),f.push("/")},className:"flex items-center space-x-2 text-gray-600 hover:text-red-600 transition-all duration-300",children:[a.jsx(i.Z,{className:"h-5 w-5"}),a.jsx("span",{children:"Logout"})]})]})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[{label:"Book Appointment",desc:"Schedule a new appointment",icon:a.jsx(o.Z,{className:"h-6 w-6 text-saylani-green"}),bg:"bg-saylani-green/10",href:"/user/appointment"},{label:"Request Help",desc:"Submit a help request",icon:a.jsx(c.Z,{className:"h-6 w-6 text-saylani-blue"}),bg:"bg-saylani-blue/10",href:"/user/help-request"},{label:"My Requests",desc:"View your appointments & requests",icon:a.jsx(d.Z,{className:"h-6 w-6 text-saylani-orange"}),bg:"bg-saylani-orange/10",href:"/user/my-requests"},{label:"Profile",desc:"Manage your account details",icon:a.jsx(n.Z,{className:"h-6 w-6 text-purple-600"}),bg:"bg-purple-100",href:"/user/profile"}].map(({label:e,desc:s,icon:t,bg:r,href:l},n)=>a.jsx("div",{onClick:()=>handleNavigation(l),className:"cursor-pointer p-4 rounded-xl shadow bg-white hover:shadow-md transition",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${r}`,children:t}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:e}),a.jsx("p",{className:"text-sm text-gray-600",children:s})]})]})},n))}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"p-6 bg-white rounded-xl shadow",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[a.jsx(o.Z,{className:"h-5 w-5 mr-2 text-saylani-green"}),"Recent Activity"]}),j.length>0?a.jsx("div",{className:"space-y-4",children:j.map(e=>a.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${"reason"in e?"bg-saylani-green/10":"bg-saylani-blue/10"}`,children:"reason"in e?a.jsx(o.Z,{className:"h-4 w-4 text-saylani-green"}):a.jsx(c.Z,{className:"h-4 w-4 text-saylani-blue"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium",children:"reason"in e?e.reason:e.type+" Assistance"}),a.jsx("p",{className:"text-sm text-gray-600",children:"preferredDate"in e&&e.preferredDate?`Scheduled for ${e.preferredDate}`:`Submitted on ${e.createdAt.toLocaleDateString()}`})]})]})},e.id))}):a.jsx("p",{className:"text-gray-500 text-center",children:"No recent activity found."})]}),(0,a.jsxs)("div",{className:"p-6 bg-white rounded-xl shadow",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[a.jsx(d.Z,{className:"h-5 w-5 mr-2 text-saylani-blue"}),"Quick Stats"]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{label:"Total Requests",count:y,color:"text-saylani-green",bg:"bg-saylani-green/5"},{label:"Approved",count:N,color:"text-saylani-blue",bg:"bg-saylani-blue/5"},{label:"Pending",count:v,color:"text-yellow-600",bg:"bg-yellow-50"},{label:"Rejected",count:w,color:"text-gray-600",bg:"bg-gray-50"}].map((e,s)=>(0,a.jsxs)("div",{className:`text-center p-4 rounded-lg ${e.bg}`,children:[a.jsx("div",{className:`text-2xl font-bold ${e.color}`,children:e.count}),a.jsx("div",{className:"text-sm text-gray-600",children:e.label})]},s))})]})]})]}),a.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2",children:a.jsx("div",{className:"flex justify-around items-center",children:[{icon:a.jsx(o.Z,{className:"h-5 w-5"}),label:"Home",path:"/user/dashboard"},{icon:a.jsx(o.Z,{className:"h-5 w-5"}),label:"Appointment",path:"/user/appointment"},{icon:a.jsx(c.Z,{className:"h-5 w-5"}),label:"Help",path:"/user/help-request"},{icon:a.jsx(d.Z,{className:"h-5 w-5"}),label:"Requests",path:"/user/my-requests"},{icon:a.jsx(n.Z,{className:"h-5 w-5"}),label:"Profile",path:"/user/profile"}].map((e,s)=>(0,a.jsxs)("button",{onClick:()=>handleNavigation(e.path),className:"flex flex-col items-center space-y-1 py-2 px-3 text-gray-600 hover:text-saylani-green hover:bg-saylani-green/10 rounded-lg transition",children:[e.icon,a.jsx("span",{className:"text-xs font-medium",children:e.label})]},s))})})]})}},6242:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>l,default:()=>o});var a=t(5153);let r=(0,a.createProxy)(String.raw`H:\Hammad\SMIT\Projects\Hackathon\app\user\dashboard\page.tsx`),{__esModule:l,$$typeof:n}=r,i=r.default,o=i}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[653,607,298,130,602,776,112],()=>__webpack_exec__(7353));module.exports=t})();